{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":["file:///E:/Referal%20IPTV%20-%20Admin%20Dashboard/src/app/api/admin/login/route.ts"],"sourcesContent":["import mongoose from 'mongoose';\r\nimport { NextRequest, NextResponse } from 'next/server';\r\n\r\n// Connect to MongoDB just to ensure connection (optional for login)\r\nconst MONGO_URI = process.env.MONGODB_URI || 'mongodb://localhost:27017/muu_iptv';\r\n\r\nasync function connectDB() {\r\n  try {\r\n    if (mongoose.connection.readyState === 1) {\r\n      return;\r\n    }\r\n    await mongoose.connect(MONGO_URI);\r\n  } catch (err) {\r\n    console.error('MongoDB connection error:', err);\r\n  }\r\n}\r\n\r\nexport async function POST(req: NextRequest) {\r\n  try {\r\n    await connectDB();\r\n    \r\n    const body = await req.json();\r\n    const { username, password } = body || {};\r\n    \r\n    const ADMIN_USER = process.env.ADMIN_USERNAME || 'admin';\r\n    const ADMIN_PASS = process.env.ADMIN_PASSWORD || 'password';\r\n\r\n    if (username === ADMIN_USER && password === ADMIN_PASS) {\r\n      // Generate a simple token\r\n      const token = Buffer.from(`${username}:${Date.now()}`).toString('base64');\r\n      return NextResponse.json(\r\n        { success: true, token, message: 'Login successful' },\r\n        { status: 200 }\r\n      );\r\n    }\r\n\r\n    return NextResponse.json(\r\n      { success: false, message: 'Invalid credentials' },\r\n      { status: 401 }\r\n    );\r\n  } catch (err) {\r\n    console.error('Login error:', err);\r\n    return NextResponse.json(\r\n      { success: false, message: 'Internal server error', error: String(err) },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,oEAAoE;AACpE,MAAM,YAAY,QAAQ,GAAG,CAAC,WAAW,IAAI;AAE7C,eAAe;IACb,IAAI;QACF,IAAI,oHAAQ,CAAC,UAAU,CAAC,UAAU,KAAK,GAAG;YACxC;QACF;QACA,MAAM,oHAAQ,CAAC,OAAO,CAAC;IACzB,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,6BAA6B;IAC7C;AACF;AAEO,eAAe,KAAK,GAAgB;IACzC,IAAI;QACF,MAAM;QAEN,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,EAAE,QAAQ,EAAE,QAAQ,EAAE,GAAG,QAAQ,CAAC;QAExC,MAAM,aAAa,QAAQ,GAAG,CAAC,cAAc,IAAI;QACjD,MAAM,aAAa,QAAQ,GAAG,CAAC,cAAc,IAAI;QAEjD,IAAI,aAAa,cAAc,aAAa,YAAY;YACtD,0BAA0B;YAC1B,MAAM,QAAQ,OAAO,IAAI,CAAC,GAAG,SAAS,CAAC,EAAE,KAAK,GAAG,IAAI,EAAE,QAAQ,CAAC;YAChE,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAM;gBAAO,SAAS;YAAmB,GACpD;gBAAE,QAAQ;YAAI;QAElB;QAEA,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,SAAS;QAAsB,GACjD;YAAE,QAAQ;QAAI;IAElB,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,gBAAgB;QAC9B,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,SAAS;YAAyB,OAAO,OAAO;QAAK,GACvE;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}