{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 49, "column": 0}, "map": {"version":3,"sources":["file:///E:/Referal%20IPTV%20-%20Admin%20Dashboard/src/models/User.ts"],"sourcesContent":["import mongoose, { Schema, Document } from 'mongoose';\r\n\r\nexport interface IUser extends Document {\r\n  fullName: string;\r\n  phoneNumber: string;\r\n  referralName?: string | null;\r\n  createdAt: Date;\r\n}\r\n\r\nconst UserSchema: Schema = new Schema<IUser>({\r\n  fullName: { type: String, required: true },\r\n  phoneNumber: { type: String, required: true },\r\n  referralName: { type: String, default: null },\r\n  createdAt: { type: Date, default: () => new Date() },\r\n});\r\n\r\nexport const UserModel = mongoose.models.User || mongoose.model<IUser>('User', UserSchema);\r\n"],"names":[],"mappings":";;;;AAAA;;AASA,MAAM,aAAqB,IAAI,mHAAM,CAAQ;IAC3C,UAAU;QAAE,MAAM;QAAQ,UAAU;IAAK;IACzC,aAAa;QAAE,MAAM;QAAQ,UAAU;IAAK;IAC5C,cAAc;QAAE,MAAM;QAAQ,SAAS;IAAK;IAC5C,WAAW;QAAE,MAAM;QAAM,SAAS,IAAM,IAAI;IAAO;AACrD;AAEO,MAAM,YAAY,oHAAQ,CAAC,MAAM,CAAC,IAAI,IAAI,oHAAQ,CAAC,KAAK,CAAQ,QAAQ","debugId":null}},
    {"offset": {"line": 90, "column": 0}, "map": {"version":3,"sources":["file:///E:/Referal%20IPTV%20-%20Admin%20Dashboard/src/app/api/register/route.ts"],"sourcesContent":["import { UserModel } from '@/models/User';\r\nimport mongoose from 'mongoose';\r\nimport { NextRequest, NextResponse } from 'next/server';\r\n\r\n// Connect to MongoDB\r\nconst MONGO_URI = process.env.MONGODB_URI || 'mongodb://localhost:27017/muu_iptv';\r\n\r\nasync function connectDB() {\r\n  try {\r\n    if (mongoose.connection.readyState === 1) {\r\n      return;\r\n    }\r\n    await mongoose.connect(MONGO_URI);\r\n  } catch (err) {\r\n    console.error('MongoDB connection error:', err);\r\n    throw err;\r\n  }\r\n}\r\n\r\nexport async function POST(req: NextRequest) {\r\n  try {\r\n    await connectDB();\r\n    \r\n    const body = await req.json();\r\n    const { fullName, phoneNumber, referralName } = body || {};\r\n    \r\n    if (!fullName || !phoneNumber) {\r\n      return NextResponse.json(\r\n        { success: false, message: 'fullName and phoneNumber are required' },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    const user = await UserModel.create({ fullName, phoneNumber, referralName });\r\n    const out = user.toObject();\r\n    \r\n    return NextResponse.json(\r\n      { success: true, message: 'Registration successful', data: out },\r\n      { status: 200 }\r\n    );\r\n  } catch (err) {\r\n    console.error('Register error:', err);\r\n    return NextResponse.json(\r\n      { success: false, message: 'Internal server error', error: String(err) },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEA,qBAAqB;AACrB,MAAM,YAAY,QAAQ,GAAG,CAAC,WAAW,IAAI;AAE7C,eAAe;IACb,IAAI;QACF,IAAI,oHAAQ,CAAC,UAAU,CAAC,UAAU,KAAK,GAAG;YACxC;QACF;QACA,MAAM,oHAAQ,CAAC,OAAO,CAAC;IACzB,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,6BAA6B;QAC3C,MAAM;IACR;AACF;AAEO,eAAe,KAAK,GAAgB;IACzC,IAAI;QACF,MAAM;QAEN,MAAM,OAAO,MAAM,IAAI,IAAI;QAC3B,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,YAAY,EAAE,GAAG,QAAQ,CAAC;QAEzD,IAAI,CAAC,YAAY,CAAC,aAAa;YAC7B,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,SAAS;gBAAO,SAAS;YAAwC,GACnE;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,OAAO,MAAM,oIAAS,CAAC,MAAM,CAAC;YAAE;YAAU;YAAa;QAAa;QAC1E,MAAM,MAAM,KAAK,QAAQ;QAEzB,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAM,SAAS;YAA2B,MAAM;QAAI,GAC/D;YAAE,QAAQ;QAAI;IAElB,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,mBAAmB;QACjC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,SAAS;YAAO,SAAS;YAAyB,OAAO,OAAO;QAAK,GACvE;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}